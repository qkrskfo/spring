<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	var count = 0;
	function create() {
		count++;
		/*
			<< Node생성기능 document객체만가지는 기능 >>
			1.div Element(tag)
		 */
		var newDiv = document.createElement('div');
		newDiv.style.border='1px dotted gold';
		newDiv.setAttribute("id", "newDiv"+count);
			
				/*
				1-1.TextNode생성
				 */
				var newTextNode = document.createTextNode("새로생성된 div"+count+"의 TextNode");
				newDiv.appendChild(newTextNode);
				/*
				1-2.img Element생성
					<img src='p_red.png' width='20px' height='20px' />
				 */
				var imgE1 = document.createElement('img');
				imgE1.setAttribute('src', 'p_red.png');
				imgE1.setAttribute('width', '20px');
				imgE1.setAttribute('height', '20px');
				newDiv.appendChild(imgE1); //이미지가 텍스트노드 뒤쪽에 들어감
				
				var imgE2 = document.createElement('img');
				imgE2.setAttribute('src', 'p_blue.png');
				imgE2.setAttribute('width', '20px');
				imgE2.setAttribute('height', '20px');
				newDiv.insertBefore(imgE2, newTextNode);

		/*
			2.DOM Tree에추가
		 */
	
		 	var parentDivE = document.getElementById("parent");
			parentDivE.appendChild(newDiv);
				
	}
	
	function remove(){
		if(count==0) {
			return;
		}
		var removeDivE = document.getElementById("newDiv"+count);
		var parentDivE = document.getElementById("parent");
		parentDivE.removeChild(removeDivE);
		count--;
	}
	
	function update(){
		//var bodyE = document.getElementsByTagName('body')[0]
		var bodyE = document.body;
		bodyE.style.background="url('p_blue2.png')";
		bodyE.style.backgroundRepeatX="no-repeat";
		bodyE.style.backgroundRepeatY="no-repeat";
	}
</script>
</head>
<body>
	<h1>HTML DOM객체 CRUD</h1>
	<hr>
	<div id='parent'>
		<!-- 
		<div id="newDiv1" style="border: 1px dotted gold;">
			<img src="p_blue.png" width="20px" height="20px">
			새로생성된DIV1 의 TextNode
			<img src="p_red.png" width="20px" height="20px">
		</div>
 		-->
	</div>
	<div id='menu'>
		<input type="button" value="DOM Tree 추가" onclick="create()"> <input
			type="button" value="DOM Tree 삭제" onclick="remove()"> <input
			type="button" value="DOM Tree 수정" onclick="update()">
	</div>

</body>
</html>